ЁЯЫС Thread Starvation тАФ ржпржЦржи ржХрж┐ржЫрзБ thread рж╕рж╛рж░рж╛ржЬрзАржмржи chance-ржЗ ржкрж╛рзЯ ржирж╛ ржзрж░рзБржи ржПржХржЯрж╛ рж░рзЗрж╕рзНржЯрзБрж░рзЗржирзНржЯ ржЖржЫрзЗ ЁЯН╜я╕П Waiter ржЖржЫрзЗ рзл ржЬржиред ржХрж┐ржирзНрждрзБ Manager ржмрж▓рзЗржЫрзЗржи тАФ тАЬVIP ржЯрзЗржмрж┐рж▓рзЗрж░ ржЖржЧрзЗ ржЕрж░рзНржбрж╛рж░ ржирзЗржмрзЗред ржЕржирзНржпржжрзЗрж░ ржЕржкрзЗржХрзНрж╖рж╛ ржХрж░рждрзЗ рж╣ржмрзЗредтАЭ ржПржЦржи ржнрж┐ржЖржЗржкрж┐ ржХрж╛рж╕рзНржЯржорж╛рж░ ржЖрж╕рждрзЗржЗ ржерж╛ржХрзЗтАж ржЖрж░ рж╕рж╛ржзрж╛рж░ржг ржХрж╛рж╕рзНржЯржорж╛рж░? рждрж╛рж░рж╛ рж╕рж╛рж░рж╛ржЬрзАржмржи ржжрж╛ржБрзЬрж┐рзЯрзЗ ржерж╛ржХрзЗ тАФ ржХрзЗржЙ рждрж╛ржжрзЗрж░ ржжрж┐ржХрзЗ рждрж╛ржХрж╛рзЯржУ ржирж╛ ЁЯШЕ ржПржЯрж╛ржЗ рж╕ржлржЯржУрзЯрзНржпрж╛рж░ ржЬржЧрждрзЗ Thread Starvationред ЁЯзй Thread Starvation ржорж╛ржирзЗ ржХрзА? ржпржЦржи Thread Pool-ржП or Scheduler-ржП ржХрж┐ржЫрзБ thread priority-рж░ ржХрж╛рж░ржгрзЗ рж╕ржмрж╕ржорзЯ chance ржкрж╛рзЯ, ржЖрж░ ржЕржирзНржп thread-рж░рж╛ waiting room-ржП ржмрж╕рзЗржЗ ржерж╛ржХрзЗ тАФ рждржЦржи system ржзрзАрж░рзЗ ржзрзАрж░рзЗ тЪая╕П unfair тЪая╕П slow тЪая╕П ржПржмржВ ржХржЦржиржУ ржХржЦржиржУ non-responsive рж╣рзЯрзЗ ржкрзЬрзЗред ЁЯза Real-life Example: ржЖржкржирж╛рж░ ржЕрзНржпрж╛ржкрзЗ ржХрж┐ржЫрзБ high-priority task ржЖржЫрзЗ (ржпрзЗржоржи heavy database query, long computation)ред ржЖрж░ low-priority task ржЖржЫрзЗ (ржпрзЗржоржи notification send, small logs)ред High-priority task ржЧрзБрж▓рзЛ non-stop ржЖрж╕рждрзЗржЗ ржерж╛ржХрж▓рзЗ тАФ рж▓рзЛ-priority task ржХржЦржирзЛржЗ execute рж╣ржУрзЯрж╛рж░ рж╕рзБржпрзЛржЧ ржкрж╛рзЯ ржирж╛ред Result? тЬЕ App crash ржирж╛ тЬЕ Deadlock ржирж╛ тЬЕ ржХрж┐ржирзНрждрзБ ржХрж╛ржЬржЗ рж╣ржЪрзНржЫрзЗ ржирж╛ тЖТ silent suffering threads ЁЯШЕ ЁЯФе Why itтАЩs dangerous? Thread starvation-ржПрж░ рж╕ржмржЪрзЗрзЯрзЗ ржнрзЯржВржХрж░ ржжрж┐ржХ: System slow рж╣рзЯрзЗ ржпрж╛рзЯ, ржХрж┐ржирзНрждрзБ ржХрзЛржи error ржжрзЗржЦрж╛рзЯ ржирж╛ред User ржнрж╛ржмрзЗ: тАЬApp slowтАжтАЭ Developer ржнрж╛ржмрзЗ: тАЬBug ржирзЗржЗтАжтАЭ ржХрж┐ржирзНрждрзБ ржнрж┐рждрж░рзЗ ржнрж┐рждрж░рзЗ thread-рж░рж╛ queue-рждрзЗ ржорж░рждрзЗржЫрзЗ ЁЯе▓ тЬЕ How to prevent it? ЁЯФ╣ Fair locks ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи ЁЯФ╣ Thread Pool-ржП balanced queue system рж░рж╛ржЦрзБржи ЁЯФ╣ Long-running operations ржЖрж▓рж╛ржжрж╛ executor-ржП ржжрж┐ржи ЁЯФ╣ Priority system ржарж┐ржХржнрж╛ржмрзЗ design ржХрж░рзБржи
