ЁЯзй CAP Theorem тАФ Consistency vs Availability Explained

ржЧржд ржкрзЛрж╕рзНржЯрзЗ ржЖржорж░рж╛ ржжрзЗржЦрзЗржЫрж┐рж▓рж╛ржо ржХрж┐ржнрж╛ржмрзЗ Failover ржЖрж░ Read Load Balancing рж╕рж┐рж╕рзНржЯрзЗржоржХрзЗ рж╕рзНржерж┐рждрж┐рж╢рзАрж▓ рж░рж╛ржЦрзЗред
 ржЖржЬ ржХржерж╛ ржмрж▓рж┐ ржПржоржи ржПржХржЯрж╛ ржзрж╛рж░ржгрж╛ ржирж┐ржпрж╝рзЗ ржпрж╛ distributed system design-ржПрж░ ржорзВрж▓ рж╕рзНрждржорзНржн тАФ
 ЁЯСЙ CAP Theorem
тЪЩя╕П What is CAP Theorem?
 рззрзпрзпрзж рж╕рж╛рж▓рзЗ Eric Brewer ржПржХржЯрж╛ ржзрж╛рж░ржгрж╛ ржжрзЗржи тАФ
 ржПржХржЯрж╛ distributed system ржПржХрж╕рж╛ржерзЗ рждрж┐ржиржЯрж┐ ржЬрж┐ржирж┐рж╕ ржкрзБрж░рзЛржкрзБрж░рж┐ ржжрж┐рждрзЗ ржкрж╛рж░рзЗ ржирж╛ред
 ржПржЗ рждрж┐ржиржЯрж┐ рж╣рж▓рзЛ ЁЯСЗ
1я╕ПтГг Consistency (C):
 рж╕ржХрж▓ ржирзЛржбрзЗ ржПржХржЗ рж╕ржоржпрж╝рзЗ ржПржХржЗ ржбрж╛ржЯрж╛ ржерж╛ржХрж╛ред
 ЁЯСЙ ржорж╛ржирзЗ ржпрзЗржЗ ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗ ржкржбрж╝рзЛ ржирж╛ ржХрзЗржи, ржлрж▓рж╛ржлрж▓ рж╕ржм ржЬрж╛ржпрж╝ржЧрж╛ржпрж╝ ржПржХржЗ рж╣ржмрзЗред
2я╕ПтГг Availability (A):
 рж╕рж┐рж╕рзНржЯрзЗржо рж╕ржмрж╕ржоржпрж╝ рж░рзЗрж╕ржкржирзНрж╕ ржжрж┐ржмрзЗ тАФ ржПржоржиржХрж┐ ржХрзЛржирзЛ ржирзЛржб ржбрж╛ржЙржи ржерж╛ржХрж▓рзЗржУред
 ЁЯСЙ ржорж╛ржирзЗ ржЗржЙржЬрж╛рж░ ржЕржкрзЗржХрзНрж╖рж╛ржпрж╝ ржерж╛ржХржмрзЗ ржирж╛, ржХрж┐ржЫрзБ ржирж╛ ржХрж┐ржЫрзБ рж░рзЗрж╕ржкржирзНрж╕ ржкрж╛ржмрзЗред
3я╕ПтГг Partition Tolerance (P):
 ржирзЗржЯржУржпрж╝рж╛рж░рзНржХ ржнрж╛ржЧ рж╣ржпрж╝рзЗ ржЧрзЗрж▓рзЗржУ (ржПржХ ржЕржВрж╢ ржЕржирзНржп ржЕржВрж╢рзЗ ржкрзМржБржЫрж╛рждрзЗ ржирж╛ ржкрж╛рж░рж▓рзЗржУ) рж╕рж┐рж╕рзНржЯрзЗржо ржЪрж╛рж▓рзБ ржерж╛ржХржмрзЗред

тЪЦя╕П The Core Idea:
 ржПржХржЯрж┐ distributed system рждрж┐ржиржЯрж╛рж░ ржоржзрзНржпрзЗ рж╕рж░рзНржмрзЛржЪрзНржЪ ржжрзБржЗржЯрж╛ ржЧрзБржгржЗ ржПржХрж╕рж╛ржерзЗ ржжрж┐рждрзЗ ржкрж╛рж░рзЗред
 ржПржЯрж╛ржЗ CAP Theorem ЁЯТб

CP (Consistency + Partition Tolerance) -- Consistent data, but ржХрж┐ржЫрзБ рж╕ржоржпрж╝ unavailable рж╣рждрзЗ ржкрж╛рж░рзЗ
AP (Availability + Partition Tolerance) -- рж╕ржмрж╕ржоржпрж╝ рж░рзЗрж╕ржкржирзНрж╕ ржжрж┐ржмрзЗ, ржХрж┐ржирзНрждрзБ ржХрж┐ржЫрзБ рж╕ржоржпрж╝ inconsistent data рж╣рждрзЗ ржкрж╛рж░рзЗ 
CA (Consistency + Availability) -- Theoretical only тАФ Partition Tolerance ржЫрж╛ржбрж╝рж╛ possible ржиржпрж╝ in real-world distributed systems

ЁЯза Real-Life Analogy:
 ржзрж░рж╛ ржпрж╛ржХ ржЖржкржирж┐ ржЖрж░ ржЖржкржирж╛рж░ ржЯрж┐ржоржорзЗржЯ ржПржХрж╕рж╛ржерзЗ ржПржХржЯрж┐ Google Sheet ржП ржПржбрж┐ржЯ ржХрж░ржЫрзЗржиред ржЗржирзНржЯрж╛рж░ржирзЗржЯ рж╕рзНрж▓рзЛ рж╣рж▓рзЗ ржХрзЗржЙ ржХрж┐ржЫрзБ рж╕ржоржпрж╝ ржкрзБрж░ржирзЛ ржбрж╛ржЯрж╛ ржжрзЗржЦрждрзЗ ржкрж╛рж░рзЗ (AP)
ржЖржмрж╛рж░ ржХрзЗржЙ ржПржбрж┐ржЯ ржХрж░рждрзЗ ржирж╛ ржкрж╛рж░рж▓рзЗ consistent ржерж╛ржХржмрзЗ, ржХрж┐ржирзНрждрзБ available ржерж╛ржХржмрзЗ ржирж╛ (CP)

ЁЯУв Takeaway:
 CAP Theorem ржЖржорж╛ржжрзЗрж░ рж╢рзЗржЦрж╛ржпрж╝ тАФ
 ЁЯСЙ тАЬYou canтАЩt have everything.тАЭ
 Distributed systems ржбрж┐ржЬрж╛ржЗржи ржХрж░рж╛рж░ рж╕ржоржпрж╝ ржарж┐ржХ ржХрж░рждрзЗ рж╣ржпрж╝ ржХрзЛржи ржжрж┐ржХржЯрж╛ ржмрзЗрж╢рж┐ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг тАФ Consistency ржирж╛ржХрж┐ Availabilityред
